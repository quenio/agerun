# Whitelist for intentional test errors
# Each entry must match ALL attributes exactly:
# - test: exact test name from "Running test: <name>"
# - error: error message suffix (without timestamp)
# - before: suffix of the line immediately before the error line (without timestamp)
# - after: suffix of the line immediately after the error line (without timestamp)
# Use empty string "" if before/after line should be ignored in matching
# Format:
#   - test: "exact_test_name"
#     error: "error_message_suffix"
#     before: "line_before_suffix"
#     after: "line_after_suffix"
#     comment: "Optional description of why this error is intentional"

intentional_errors:
  # Compile instruction evaluator tests
  - test: "ar_compile_instruction_evaluator_tests"
    error: "ERROR: Unknown instruction type (at position 0)"
    before: "DEBUG [FRAME_CREATE]: Creating frame with message type=2"
    after: "ERROR: Unknown parse error (at position 1)"
    comment: "Testing invalid instruction syntax in test_instruction_evaluator__evaluate_method_invalid_instructions"
  
  - test: "ar_compile_instruction_evaluator_tests"
    error: "ERROR: Unknown parse error (at position 1)"
    before: "ERROR: Unknown instruction type (at position 0)"
    after: "DEBUG [FRAME_CREATE]: Creating frame with message type=2"
    comment: "Testing invalid instruction parsing in test_instruction_evaluator__evaluate_method_invalid_instructions"

  # Interpreter fixture tests - testing error handling
  - test: "ar_interpreter_fixture_tests"
    error: "ERROR: Method evaluation failed at line 1"
    before: "ERROR: Failed to evaluate expression"
    after: "DEBUG: Message is provided to execute_method"
    comment: "Testing error handling in interpreter fixture tests"
  
  - test: "ar_interpreter_fixture_tests"
    error: "ERROR: Method evaluation failed"
    before: ""
    after: ""
    comment: "Testing general method evaluation failure handling"

  # Method AST errors during testing - these are intentional as tests exercise error conditions
  - test: ""
    error: "ERROR: Method has no AST"
    before: "DEBUG [INTERPRETER]: Executing method for agent 2 with message type=2"
    after: "DEBUG [INTERPRETER]: Executing method for agent 3 with message type=2"
    comment: "Testing method execution without AST"
    
  - test: ""
    error: "ERROR: Method has no AST"
    before: "DEBUG [INTERPRETER]: Executing method for agent 3 with message type=2"
    after: "ERROR: Failed to create execution frame"
    comment: "Testing method execution without AST"
    
  - test: ""
    error: "ERROR: Method has no AST"
    before: ""
    after: ""
    comment: "General AST missing errors during test execution - these are expected in test scenarios"